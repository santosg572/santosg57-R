asplit                  package:base                   R Documentation

_S_p_l_i_t _A_r_r_a_y/_M_a_t_r_i_x _B_y _I_t_s _M_a_r_g_i_n_s

_D_e_s_c_r_i_p_t_i_o_n:

     Split an array or matrix by its margins.

_U_s_a_g_e:

     asplit(x, MARGIN, drop = FALSE)
     
_A_r_g_u_m_e_n_t_s:

       x: an array, including a matrix.

  MARGIN: a vector giving the margins to split by.  E.g., for a matrix
          ‘1’ indicates rows, ‘2’ indicates columns, ‘c(1, 2)’
          indicates rows and columns.  Where ‘x’ has named dimnames, it
          can be a character vector selecting dimension names.

    drop: a logical indicating whether the splits should drop
          dimensions and dimnames.

_D_e_t_a_i_l_s:

     Since R 4.1.0, one can also obtain the splits (less efficiently)
     using ‘apply(x, MARGIN, identity, simplify = FALSE)’.  The values
     of the splits can also be obtained (less efficiently) by ‘split(x,
     slice.index(x, MARGIN))’.

_V_a_l_u_e:

     A “list array” with dimension dv and each element an array of
     dimension de and dimnames preserved as available if ‘drop’ is
     false and a vector otherwise, where dv and de are, respectively,
     the dimensions of ‘x’ included and not included in ‘MARGIN’.

_E_x_a_m_p_l_e_s:

     ## A 3-dimensional array of dimension 2 x 3 x 4:
     d <- 2 : 4
     x <- array(seq_len(prod(d)), d)
     x
     ## Splitting by margin 2 gives a 1-d list array of length 3
     ## consisting of 2 x 4 arrays:
     asplit(x, 2)
     ## Splitting by margins 1 and 2 gives a 2 x 3 list array
     ## consisting of 1-d arrays of length 4:
     asplit(x, c(1, 2))
     ## Compare to
     split(x, slice.index(x, c(1, 2)))
     
     ## A 2 x 3 matrix:
     (x <- matrix(1 : 6, 2, 3))
     ## To split x by its rows, one can use
     asplit(x, 1)
     ## or less efficiently
     split(x, slice.index(x, 1))
     split(x, row(x))
     

